<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>PhaserJS #3</title>
  <link rel="shortcut icon" type="image/png" href="images/ico_full.png" />
  <link rel="stylesheet" href="stylesheet/prism.css">
  <link rel="stylesheet" href="stylesheet/style.css">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css"
    integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
    integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
</head>

<body>

  <!-- Introduction -->
  <div class="banner"
    style="display: block !important; background-image: linear-gradient(rgba(0,0,0,0.5),rgba(0,0,0,0.5)), url('https://d2skuhm0vrry40.cloudfront.net/2018/articles/2018-08-29-13-52/nintendo-takes-down-11-year-old-pokemon-fangame-kit-1535547168922.jpg/EG11/thumbnail/750x422/format/jpg/quality/60');">
    <div class="container text-center">
      <div class="main">
        <img src="images/logo.png" alt="">
        <div class="class-title text-center">
          <h1>PhaserJS<br> Fiche 3</h1>
        </div>
      </div>
      <p>Durant cette session, on va plus se concentrer sur la cr√©ation de jeux vid√©os dans le language JavaScript. Pour
        ce faire, on se servira de la librarie <b>Phaser</b>.</p>
      <a class="btn btn-primary tl-button" href="#challenge" role="button">Commencer !</a>
    </div>
  </div>
  <p id=language-link>üó®Ô∏è For the english version click<a href="english_index.html"> here</a>!</p>

  <div class="container" id="challenge">

    <div class="accordion" id="accordionExample">

      <!-- √âtape 1 -->
      <div class="card">
        <div class="card-header" id="heading1">
          <h2 class="mb-0">
            <button class="btn btn-link done task" type="button" data-toggle="collapse" data-target="#collapse1"
              aria-expanded="false" aria-controls="collapse1">
              √âtape 1 - D√©fis √† compl√©ter avant
            </button>
          </h2>
        </div>
        <div id="collapse1" class="collapse show" aria-labelledby="heading1" data-parent="#accordionExample">
          <div class="card-body">
            <p>Avant d'entamer ce d√©fi, assure toi d'avoir d√©j√† fait ceux-ci:</p>
            <ul>
              <li><a href="https://tictaclab-org.github.io/PhaserJS-Introduction/">PhaserJS - Personnage</a></li>
              <li><a href="https://tictaclab-org.github.io/PhaserJS-Platforms/">PhaserJS - Plateformes</a></li>
            </ul>
            <p>Aussi, assure-toi que tu sois bien connect√© √† ton compte <a href="https://repl.it">Repl.It</a>, et que tu
              aies ton projet de la fois pass√©e.</p>
          </div>
        </div>
      </div>

      <!-- √âtape 2 -->
      <div class="card">
        <div class="card-header" id="heading2">
          <h2 class="mb-0">
            <button class="btn btn-link task" type="button" data-toggle="collapse" data-target="#collapse2"
              aria-expanded="false" aria-controls="collapse2">
              √âtape 2 - Perdre
            </button>
          </h2>
        </div>
        <div id="collapse2" class="collapse" aria-labelledby="heading2" data-parent="#accordionExample">
          <div class="card-body">
            <p>Lorsque tu tombes des plateformes, tu tombes dans le vide et tu descends √† l'infini... Ce n'est pas le
              but! Faisons en sorte de
              perdre lorsqu'on tombe trop bas!</p>

            <p>Pour voir les coordonn√©es en X et en Y du joueur, on utilise</p>

            <pre><code class="language-js">
              this.player.x;
              this.player.y;
            </code></pre>

            <p>Essaie de les <i>logguer</i> dans la console dans la fonction <code>update</code></p>

            <pre><code class="language-js">
              console.log(/* Coordonn√©es X */);
              console.log(/* Coordonn√©es Y */);
            </code></pre>

            <p>Observe les nombres changer lorsque tu bouges. Ce sont les bonnes coordonn√©es!</p>

            <p>Pour perdre, on va v√©rifier si la coordonn√©e Y est trop haute. Si (
            <pre><code class="language-js">if</code></pre>) elle l'est, on va changer r√©tablir les
            coordonn√©es X et Y au d√©but du jeu.</p>

            <pre><code class="language-js">
              if(/* Coordonn√©e Y */ > /* Nombre que tu veux */) {
                /* Coordonn√©e X */ = /* X de d√©part */;
                /* Coordonn√©e Y */ = /* Y de d√©part */;
              }
            </code></pre>

            <p>Ton personnage devrait maintenant reappara√Ætre au d√©but de la partie lorsqu'il tombe dans le vide.</p>
          </div>
        </div>
      </div>

      <!-- √âtape 3 -->
      <div class="card">
        <div class="card-header" id="heading3">
          <h2 class="mb-0">
            <button class="btn btn-link task" type="button" data-toggle="collapse" data-target="#collapse3"
              aria-expanded="false" aria-controls="collapse3">
              √âtape 3 - Victoire! ‚úåÔ∏è
            </button>
          </h2>
        </div>
        <div id="collapse3" class="collapse" aria-labelledby="heading3" data-parent="#accordionExample">
          <div class="card-body">
            <p>On va maintenant ajouter un objet de victoire! Dessine ce joli objet en Pixel Art. Tu peux utiliser √†
              nouveau <a href="https://www.pixilart.com">pixilart.com</a>.</p>

            <p>Une fois dessin√©, ajoute ton nouvel objet dans ton projet, comme tu l'as bien fait avec tes autres
              dessins.</p>

            <p>Maintenant, il faut <b>load</b> ton personnage.</p>

            <pre><code class="language-js">
              this.load.image("coin", "coin.png");
            </code></pre>

            <p>Une fois ton image charg√©e dans le projet, on veut la faire appara√Ætre quelque part. De nouveau, facile!
            </p>

            <pre><code class="language-js">
              this.coin = this.physics.add.sprite(500, 160, "coin");
            </code></pre>

            <p>Tu devras bien s√ªr changer les coordonn√©es X (500) et Y (160) dans ton jeu!</p>

            <p>Et maintenant, la partie <b>compliqu√©e</b>! Accroche-toi!</p>

            <p>Dans la fonction <code>update</code>, on va v√©rifier si tu touches la pi√®ce de victoire. Si c'est le cas,
              on va arr√™ter le jeu, et afficher que tu as gagn√©!</p>

            <p>Pour faire quelque chose lorsque tu touches la pi√®ce, on utilise ce code:</p>

            <pre><code class="language-js">
              this.physics.add.overlap(this.player, this.coin, function(player, coin) {
                // Ce qu'on fait lorsqu'on touche la pi√®ce
              }, null, this);
            </code></pre>

            <p>Pour √™tre s√ªr.e que tout fonctionne bien, <code>console.log</code> le mot "Touch√©". Souviens-toi que pour
              <i>logguer</i> un mot, il faut faire
            </p>

            <pre><code class="language-js">
              console.log(/* Mon mot entre guillemets */);
            </code></pre>

            <p>√áa marche? Super!</p>

            <p>Maintenant, on va faire dispara√Ætre la pi√®ce. Sinon, tu vas juste continuer de gagner √† l'infini, vu que
              tu continues √† la toucher!</p>

            <pre><code class="language-js">
              coin.destroy();
            </code></pre>

            <p>Essaie maintenant: la pi√®ce devrait s'effacer lorsqu'on la touche.</p>

            <p>Maintenant, on ajoute le texte. Pour ce faire, on va d'abord cr√©er le texte:</p>

            <pre><code class="language-js">
              let victoryText = this.add.text(0, 0, "VICTOIRE");
            </code></pre>

            <p>On a cr√©√© le texte de victoire, mais on ne l'affiche pas encore! Pour l'afficher, on peut faire</p>

            <pre><code class="language-js">
              Phaser.Display.Align.In.Center(victoryText, this.add.zone(400, 250, 400, 250));
            </code></pre>

            <p>Ce code a l'air plut√¥t compliqu√© non? On va le parcourir section par section:</p>

            <ol>
              <li><code>Phaser.Display.Align.In.Center</code> dit au programme d'afficher quelque chose num√©ro 1 au
                milieu de quelque chose num√©ro 2</li>
              <li><code>victoryText</code> est le quelque chose num√©ro 1, qu'on veut afficher √† l'√©cran</li>
              <li><code>this.add.zone(400, 250, 400, 250)</code> est le quelque chose num√©ro 2, la zone dans laquelle on
                veut afficher notre texte.</li>
            </ol>

            <p>Excellent! Mais le texte est un peu petit non? Comment pourrait-on l'agrandir?</p>

            <p>On va changer la variable "victoryText" en </p>

            <pre><code class="language-js">
              let victoryText = this.add.text(0, 0, "VICTOIRE", {
                fontSize: "50px",
              });
            </code></pre>

            <p>De la m√™me fa√ßon, on peut aussi ajouter une couleur:</p>

            <pre><code class="language-js">
              let victoryText = this.add.text(0, 0, "VICTOIRE", {
                fontSize: "50px",
                color: "#d53636",
              });
            </code></pre>

            <p>Tu peux bien s√ªr choisir ta propre taille d'√©criture et ta propre couleur!</p>

            <p>Finalement, on aimerait faire en sorte que le jeu se finisse lorsqu'on prend la pi√®ce! On va simplement
              mettre le jeu sur pause, et ne jamais le "d√©-pauser"</p>

            <pre><code class="language-js">
              this.physics.pause();
            </code></pre>

          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-header" id="heading5">
          <h2 class="mb-0">
            <button class="btn btn-link task" type="button" data-toggle="collapse" data-target="#collapse5"
              aria-expanded="false" aria-controls="collapse5">
              √âtape 4 - Un monde sans limites... ou presque üó∫Ô∏è
            </button>
          </h2>
        </div>
        <div id="collapse5" class="collapse" aria-labelledby="heading5" data-parent="#accordionExample">
          <div class="card-body">
            <p>Imagine que tu veuilles un monde plus long que ton √©cran, et que tu puisses le traverser facilement. Il
              faudrait que le monde bouge avec ton personnage.</p>

            <p>C'est facile √† faire! Dans la fonction <code>create</code>, ajoute</p>

            <pre><code class="language-js">
              this.cameras.main.startFollow(this.player);
            </code></pre>

            <p>Ceci fera en sorte que la cam√©ra suivera ton personnage partout. Tu peux maintenant cr√©er un tr√®s tr√®s
              grand monde. Ceci √©tant dit, il serait pr√©f√©rable que la cam√©ra ne suive notre personnage que dans la
              direction horizontale (l'axe des X).</p>

            <p>Pour cela, ajoute cette ligne dans la fonction <code>update</code>:</p>

            <pre><code class="language-js">
              this.cameras.main.setFollowOffset(0, this.player.y-250);
            </code></pre>

            <p>Petit probl√®me: maintenant, lorsque tu gagnes, le texte n'est plus au milieu üòì</p>

            <p>Pour r√©m√©dier √† cela, change le code o√π tu cr√©es le texte comme ceci (il faut juste ajouter
              <code>.setScrollFactor(0)</code>):
            </p>

            <pre><code class="language-js">
              let victoryText = this.add.text(0, 0, "VICTOIRE", {
                color: "#d53636",
                fontSize: "70px"
              }).setScrollFactor(0);
            </code></pre>

            <p>VOILA! Tu peux maintenant commencer √† construire un monde bien plus long qu'avant. Cr√©e un joli jeu de
              parcours qu'on peut essayer!</p>
          </div>
        </div>
      </div>

    </div>
  </div>

  <div class="footer">
    <div class="footer-links">
      <a href="https://tictaclab.org/"><i class="fas fa-globe"></i></i></a>
      <a href="https://www.instagram.com/tictaclabbxl/"><i class="fab fa-instagram"></i></a>
      <a href="https://www.facebook.com/TicTacLabBXL/"><i class="fab fa-facebook"></i></a>
      <a href="https://www.linkedin.com/company/tictaclab/"><i class="fab fa-linkedin"></i></a>
      <a href="https://tictaclab-org.github.io/Fiches/"><i class="fa fa-list"></i> Retour aux fiches</a>
    </div>
    <div class="footer-copyright">
      <a href="https://tictaclab.org" rel="noopener noreferrer" target="_blank" class="alert-link copyright">
        <i class="far fa-copyright"></i> 2023 Tic Tac Lab ASBL. All rights reserved.
      </a>
    </div>
  </div>
  <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
    integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
    integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
    integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
    crossorigin="anonymous"></script>
  <script src="javascript/prism.js"></script>
</body>

</html>
